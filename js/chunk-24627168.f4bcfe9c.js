(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24627168"],{1681:function(e,t,i){},"1f27":function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"e",(function(){return o})),i.d(t,"b",(function(){return c}));var n=i("a27e"),a=function(){return n["a"].get("/menu-management/menus")},r=function(){return n["a"].get("/menu-management/menu-tree")},s=function(e){return n["a"].post("/menu-management/menu",e)},o=function(e,t){return n["a"].put("/menu-management/menu/".concat(e),t)},c=function(e){return n["a"].delete("/menu-management/menus",{params:{ids:e}})}},"3ab6":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"d-flex white",attrs:{fluid:"","fill-height":""}},[i("v-col",{ref:"roles",staticClass:"d-flex align-self-stretch",attrs:{cols:"3"}},[i("v-card",{staticClass:"px-2",staticStyle:{width:"100%"},attrs:{flat:"",outlined:""}},[i("v-card-title",[i("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){e.createDialog=!0}}},[e._v(" 新增 ")]),i("v-btn",{staticClass:"ml-2",attrs:{color:"primary",small:""},on:{click:function(t){e.editDialog=!0}}},[e._v(" 编辑 ")]),i("v-btn",{staticClass:"ml-2",attrs:{color:"error",small:"",disabled:0===e.selectedRoles.length},on:{click:function(t){e.deleteDialog=!0}}},[e._v(" 删除 "),e.selectedRoles.length>0?i("span",[e._v("("+e._s(e.selectedRoles.length)+") ")]):e._e()])],1),i("v-divider"),i("v-card-title",{staticClass:"pa-0"},[i("v-toolbar",{attrs:{flat:""}},[i("v-text-field",{attrs:{solo:"",flat:"",dense:"",outlined:"","append-icon":"mdi-magnify",label:"输入关键词以筛选","single-line":"","hide-details":"",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1),i("v-card-text",{staticClass:"overflow-auto pa-0",style:{height:e.maxHeight-160+"px"}},[i("v-list",{attrs:{dense:"",nav:""}},[i("v-list-item-group",{attrs:{color:"primary",mandatory:""},model:{value:e.activeRole,callback:function(t){e.activeRole=t},expression:"activeRole"}},e._l(e.roles,(function(t,n){return i("v-list-item",{key:n},[i("v-list-item-action",[i("v-checkbox",{attrs:{"input-value":e.selectedRoles.includes(t.id)},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.selectRole(t.id)}}})],1),i("v-list-item-content",[i("v-list-item-title",{attrs:{title:t.name+" ("+t.symbol+")"}},[e._v(" "+e._s(t.name)+" ("+e._s(t.symbol)+") ")]),i("v-list-item-subtitle",[e._v(e._s(t.description||"暂无描述~"))])],1)],1)})),1)],1),e.loadingRoles?i("v-overlay",{attrs:{absolute:"",opacity:".07"}},[i("v-alert",{attrs:{color:"primary",text:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):e._e()],1)],1)],1),i("v-col",{staticClass:"d-flex align-self-stretch",attrs:{cols:"9"}},[i("v-card",{staticClass:"py-2 px-2",staticStyle:{width:"100%"},attrs:{flat:"",outlined:""}},[i("v-toolbar",{attrs:{flat:"",dense:""}},[e._v(" 授权 "),i("v-spacer"),e._v(" 类型 ")],1),i("v-divider"),i("v-treeview",{staticClass:"overflow-auto pa-2",style:{"max-height":e.maxHeight-164+"px"},attrs:{hoverable:"",items:e.menus,color:"primary","open-on-click":"",selectable:"","selected-color":"primary"},scopedSlots:e._u([{key:"append",fn:function(t){var n=t.item.type;return[i("v-chip",{attrs:{small:"",label:""}},[e._v(e._s(1==n?"一级菜单":2==n?"子菜单":"操作"))])]}}]),model:{value:e.authorized,callback:function(t){e.authorized=t},expression:"authorized"}}),i("v-toolbar",{staticStyle:{width:"100%"},attrs:{absolute:"",bottom:"",flat:""}},[i("v-btn",{attrs:{small:"",color:"primary"},on:{click:e.authorizeAll}},[e._v(" 全选 ")]),i("v-btn",{staticClass:"ml-2",attrs:{small:"",disabled:!e.modified,color:"primary",loading:e.savingAuthorities},on:{click:e.saveAuthority}},[e._v(" 保存 ")]),i("v-btn",{staticClass:"ml-2",attrs:{small:"",disabled:!e.modified,color:"error"},on:{click:e.resetAuthority}},[e._v(" 重置 ")])],1),e.loadingMenus?i("v-overlay",{attrs:{absolute:"",opacity:".07"}},[i("v-alert",{attrs:{color:"primary",text:""}},[i("v-progress-circular",{attrs:{indeterminate:""}})],1)],1):e._e()],1)],1),i("create-dialog",{attrs:{menus:e.menus},on:{reload:e.getRoles},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}}),i("delete-dialog",{attrs:{roles:e.selectedRoles},on:{reload:e.getRoles},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}}),i("edit-dialog",{attrs:{role:e.roles[e.activeRole]},on:{reload:e.getRoles},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}})],1)},a=[],r=i("1da1"),s=i("2909"),o=(i("96cf"),i("4de4"),i("159b"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("caad"),i("2532"),i("d81d"),i("a4d3"),i("e01a"),i("1f27")),c=i("cc5e"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{width:"400px",persistent:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v(" 删除确认 ")]),i("v-card-text",{staticClass:"my-4"},[i("v-icon",{staticClass:"mr-2",attrs:{color:"warning"}},[e._v("mdi-alert-circle")]),e._v(" 确认删除这 "+e._s(e.roles.length)+" 个角色？ ")],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" 取消 ")]),i("v-btn",{attrs:{color:"primary",loading:e.deleting},on:{click:e.deleteRoles}},[e._v(" 确认 ")])],1)],1)],1)},d=[],u={props:["value","roles"],data:function(){return{deleting:!1}},methods:{deleteRoles:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleting=!0,t.next=3,Object(c["b"])(e.roles);case 3:e.deleting=!1,e.$emit("input",!1),e.$notify.success("".concat(e.roles.length," 个角色已删除！")),setTimeout((function(){e.$notify.info("重新加载角色列表..",!0),e.$emit("reload")}),800);case 7:case"end":return t.stop()}}),t)})))()}}},h=u,v=i("2877"),p=i("6544"),f=i.n(p),m=i("8336"),g=i("b0af"),b=i("99d9"),y=i("169a"),O=i("132d"),x=i("2fa4"),C=Object(v["a"])(h,l,d,!1,null,null,null),w=C.exports;f()(C,{VBtn:m["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VDialog:y["a"],VIcon:O["a"],VSpacer:x["a"]});var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{width:"600px",persistent:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v(" 新增角色 ")]),i("v-card-text",[i("v-alert",{attrs:{text:"",type:"warning",icon:"mdi-alert-circle",dismissible:"","close-icon":"mdi-close"},model:{value:e.warningAlert,callback:function(t){e.warningAlert=t},expression:"warningAlert"}},[e._v(e._s(e.indications.warning))]),i("v-alert",{attrs:{text:"",type:"error",icon:"mdi-alert",dismissible:"","close-icon":"mdi-close"},model:{value:e.errorAlert,callback:function(t){e.errorAlert=t},expression:"errorAlert"}},[e._v(e._s(e.indications.error))]),i("v-form",{ref:"form",staticClass:"pt-4"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"名称*",required:"",rules:[function(e){return!!e||"名称不可为空"}]},model:{value:e.createData["name"],callback:function(t){e.$set(e.createData,"name",t)},expression:"createData['name']"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"标识*",required:"",rules:[function(e){return!!e||"标识不可为空"}]},model:{value:e.createData["symbol"],callback:function(t){e.$set(e.createData,"symbol",t)},expression:"createData['symbol']"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-textarea",{attrs:{outlined:"",label:"描述"},model:{value:e.createData["description"],callback:function(t){e.$set(e.createData,"description",t)},expression:"createData['description']"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" 取消 ")]),i("v-btn",{attrs:{color:"primary",loading:e.creating},on:{click:e.create}},[e._v(" 确认 ")])],1)],1)],1)},k=[],j={props:["value","menus"],data:function(){return{indications:{warning:"",error:""},warningAlert:!1,errorAlert:!1,createData:{},creating:!1}},watch:{value:function(e){e||(this.warningAlert=!1,this.errorAlert=!1,this.createData={},this.$refs.form.resetValidation())}},methods:{create:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.$refs.form.validate(),!i){t.next=9;break}return e.creating=!0,t.next=5,Object(c["a"])(e.createData);case 5:e.creating=!1,e.$emit("input",!1),e.$notify.success("角色已添加！"),setTimeout((function(){e.$notify.info("重新加载角色列表..",!0),e.$emit("reload")}),800);case 9:case"end":return t.stop()}}),t)})))()}}},I=j,A=i("0798"),_=i("62ad"),$=i("4bd4"),V=i("0fd9"),D=i("8654"),R=i("5530"),T=(i("a9e3"),i("1681"),i("58df")),z=Object(T["a"])(D["a"]),q=z.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(R["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},D["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"}},genInput:function(){var e=D["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){D["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}}),E=Object(v["a"])(I,S,k,!1,null,null,null),N=E.exports;f()(E,{VAlert:A["a"],VBtn:m["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:_["a"],VDialog:y["a"],VForm:$["a"],VRow:V["a"],VSpacer:x["a"],VTextField:D["a"],VTextarea:q});var L=i("0beb"),K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{width:"600px",persistent:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v(" 编辑角色 ")]),i("v-card-text",[i("v-alert",{attrs:{text:"",type:"warning",icon:"mdi-alert-circle",dismissible:"","close-icon":"mdi-close"},model:{value:e.warningAlert,callback:function(t){e.warningAlert=t},expression:"warningAlert"}},[e._v(e._s(e.indications.warning))]),i("v-alert",{attrs:{text:"",type:"error",icon:"mdi-alert",dismissible:"","close-icon":"mdi-close"},model:{value:e.errorAlert,callback:function(t){e.errorAlert=t},expression:"errorAlert"}},[e._v(e._s(e.indications.error))]),i("v-form",{ref:"form"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"名称*",required:"",rules:[function(e){return!!e||"名称不可为空"}]},model:{value:e.editData["name"],callback:function(t){e.$set(e.editData,"name",t)},expression:"editData['name']"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"标识*",required:"",rules:[function(e){return!!e||"标识不可为空"}]},model:{value:e.editData["symbol"],callback:function(t){e.$set(e.editData,"symbol",t)},expression:"editData['symbol']"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-textarea",{attrs:{outlined:"",label:"描述"},model:{value:e.editData["description"],callback:function(t){e.$set(e.editData,"description",t)},expression:"editData['description']"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" 取消 ")]),i("v-btn",{attrs:{color:"primary",loading:e.editing},on:{click:e.edit}},[e._v(" 确认 ")])],1)],1)],1)},P=[],B={props:["value","role"],data:function(){return{indications:{warning:"",error:""},warningAlert:!1,errorAlert:!1,editData:{},editing:!1}},watch:{value:function(e){e?this.editData=JSON.parse(JSON.stringify(this.role)):(this.warningAlert=!1,this.errorAlert=!1,this.editData={},this.$refs.form.resetValidation())}},computed:{modified:function(){return JSON.stringify(this.editData)!==JSON.stringify(this.role)}},methods:{edit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.$refs.form.validate(),!i){t.next=9;break}if(!e.modified){t.next=9;break}return e.editing=!0,t.next=6,Object(c["e"])(e.role.id,e.editData);case 6:e.editing=!1,e.$notify.success("角色已更新！"),setTimeout((function(){e.$notify.info("重新加载角色列表..",!0),e.$emit("reload")}),800);case 9:e.$emit("input",!1);case 10:case"end":return t.stop()}}),t)})))()}}},H=B,J=Object(v["a"])(H,K,P,!1,null,null,null),M=J.exports;f()(J,{VAlert:A["a"],VBtn:m["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:_["a"],VDialog:y["a"],VForm:$["a"],VRow:V["a"],VSpacer:x["a"],VTextField:D["a"],VTextarea:q});var F={name:"management-role",components:{CreateDialog:N,DeleteDialog:w,EditDialog:M},data:function(){return{activeRole:"",roles:[],selectedRoles:[],maxHeight:0,authorized:[],authorizedOrigin:[],menus:[],loadingRoles:!1,loadingMenus:!1,savingAuthorities:!1,createDialog:!1,deleteDialog:!1,editDialog:!1,rolesQuantity:[],keyword:""}},mounted:function(){var e=this;setTimeout((function(){e.getMaxHeight(),e.getRoles(),e.getMenuTree()}),200)},watch:{activeRole:function(e){this.getAuthorizedMenus(this.roles[e].id)},keyword:function(e){null===e?this.roles=JSON.parse(JSON.stringify(this.rolesQuantity)):this.filterRole(e)},roles:function(e){this.selectedRoles=this.selectedRoles.filter((function(t){return e.some((function(e){return e.id===t}))}))}},computed:{modified:function(){return JSON.stringify(this.authorized)!==this.authorizedOrigin}},methods:{getMaxHeight:function(){this.maxHeight=this.$refs.roles.offsetHeight},compressAuthorized:function(e){var t=this,i=Object(s["a"])(e);return e.forEach((function(e){var n=Object(L["d"])(t.menus,e);n&&(i=i.filter((function(e){return e!==n.id})))})),i},expandAuthorized:function(e){var t=this,i=Object(s["a"])(e);return e.forEach((function(e){var n,a=Object(L["d"])(t.menus,e);a&&(n=i).push.apply(n,Object(s["a"])(t.expandAuthorized([a.id])))})),i=Object(s["a"])(new Set(i)),i},authorizeAll:function(){this.authorized=this.compressAuthorized(Object(L["a"])(this.menus,"id"))},saveAuthority:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.savingAuthorities=!0,i=e.expandAuthorized(e.authorized),t.next=4,Object(c["f"])(e.roles[e.activeRole].id,i);case 4:e.authorizedOrigin=JSON.stringify(e.authorized),e.savingAuthorities=!1,e.$notify.success("权限已保存！");case 7:case"end":return t.stop()}}),t)})))()},resetAuthority:function(){this.authorized=JSON.parse(this.authorizedOrigin)},selectRole:function(e){this.selectedRoles.includes(e)?this.selectedRoles=this.selectedRoles.filter((function(t){return t!==e})):this.selectedRoles.push(e)},getRoles:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRoles=!0,t.next=3,Object(c["d"])();case 3:e.roles=t.sent.data,e.rolesQuantity=JSON.parse(JSON.stringify(e.roles)),i=e.roles.map((function(e){return e.id})),e.selectedRoles=e.selectedRoles.filter((function(e){return i.includes(e)})),e.loadingRoles=!1;case 8:case"end":return t.stop()}}),t)})))()},getMenuTree:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingMenus=!0,t.next=3,Object(o["c"])();case 3:e.menus=t.sent.data,e.loadingMenus=!1;case 5:case"end":return t.stop()}}),t)})))()},getAuthorizedMenus:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.loadingMenus=!0,i.t0=t,i.next=4,Object(c["c"])(e);case 4:i.t1=i.sent.data,t.authorized=i.t0.compressAuthorized.call(i.t0,i.t1),t.$nextTick((function(){t.authorizedOrigin=JSON.stringify(t.authorized)})),t.loadingMenus=!1;case 8:case"end":return i.stop()}}),i)})))()},filterRole:function(e){this.roles=this.rolesQuantity.filter((function(t){return(t.roleName+t.description+t.roleCode).includes(e)}))}}},G=F,W=i("ac7c"),Q=i("cc20"),U=i("a523"),X=i("ce7e"),Y=i("8860"),Z=i("da13"),ee=i("1800"),te=i("5d23"),ie=i("1baa"),ne=i("a797"),ae=i("490a"),re=i("71d9"),se=i("3835"),oe=i("b85c"),ce=(i("ac1f"),i("841c"),i("b64b"),i("4ec9"),i("fa9e"),i("ade3")),le=i("0789"),de=i("3206"),ue=i("a9ad"),he=i("80d2"),ve=Object(T["a"])(ue["a"],Object(de["a"])("treeview")),pe={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:function(e){return["leaf","independent"].includes(e)}}},fe=ve.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:Object(R["a"])({level:Number,item:{type:Object,default:function(){return null}},parentIsDisabled:Boolean},pe),data:function(){return{hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}},computed:{disabled:function(){return Object(he["q"])(this.item,this.itemDisabled)||this.parentIsDisabled&&"leaf"===this.selectionType},key:function(){return Object(he["q"])(this.item,this.itemKey)},children:function(){var e=this,t=Object(he["q"])(this.item,this.itemChildren);return t&&t.filter((function(t){return!e.treeview.isExcluded(Object(he["q"])(t,e.itemKey))}))},text:function(){return Object(he["q"])(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var e=this;return new Promise((function(t){if(!e.children||e.children.length||!e.loadChildren||e.hasLoaded)return t();e.isLoading=!0,t(e.loadChildren(e.item))})).then((function(){e.isLoading=!1,e.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var e=[];return this.$scopedSlots.label?e.push(this.$scopedSlots.label(this.scopedProps)):e.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},e)},genPrependSlot:function(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot:function(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent:function(){var e=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},e)},genToggle:function(){var e=this;return this.$createElement(O["a"],{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:function(t){t.stopPropagation(),e.isLoading||e.checkChildren().then((function(){return e.open()}))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var e=this;return this.$createElement(O["a"],{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:function(t){t.stopPropagation(),e.isLoading||e.checkChildren().then((function(){e.$nextTick((function(){e.isSelected=!e.isSelected,e.isIndeterminate=!1,e.treeview.updateSelected(e.key,e.isSelected),e.treeview.emitSelected()}))}))}}},[this.computedIcon])},genLevel:function(e){var t=this;return Object(he["i"])(e).map((function(){return t.$createElement("div",{staticClass:"v-treeview-node__level"})}))},genNode:function(){var e=this,t=[this.genContent()];return this.selectable&&t.unshift(this.genCheckbox()),this.hasChildren?t.unshift(this.genToggle()):t.unshift.apply(t,Object(s["a"])(this.genLevel(1))),t.unshift.apply(t,Object(s["a"])(this.genLevel(this.level))),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:Object(ce["a"])({},this.activeClass,this.isActive),on:{click:function(){e.openOnClick&&e.hasChildren?e.checkChildren().then(e.open):e.activatable&&!e.disabled&&(e.isActive=!e.isActive,e.treeview.updateActive(e.key,e.isActive),e.treeview.emitActive())}}}),t)},genChild:function(e,t){return this.$createElement(fe,{key:Object(he["q"])(e,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:e,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:t},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){var e=this;if(!this.isOpen||!this.children)return null;var t=[this.children.map((function(t){return e.genChild(t,e.disabled)}))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},t)},genTransition:function(){return this.$createElement(le["a"],[this.genChildrenWrapper()])}},render:function(e){var t=[this.genNode()];return this.transition?t.push(this.genTransition()):t.push(this.genChildrenWrapper()),e("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},t)}}),me=fe,ge=i("7560"),be=i("d9bd");function ye(e,t,i){var n=Object(he["q"])(e,i);return n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}function Oe(e,t,i,n,a,r,s){if(e(t,i,a))return!0;var o=Object(he["q"])(t,r);if(o){for(var c=!1,l=0;l<o.length;l++)Oe(e,o[l],i,n,a,r,s)&&(c=!0);if(c)return!0}return s.add(Object(he["q"])(t,n)),!1}var xe=Object(T["a"])(Object(de["b"])("treeview"),ge["a"]).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:Object(R["a"])({active:{type:Array,default:function(){return[]}},dense:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:function(){return[]}}},pe),data:function(){return{level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var e=new Set;if(!this.search)return e;for(var t=0;t<this.items.length;t++)Oe(this.filter||ye,this.items[t],this.search,this.itemKey,this.itemText,this.itemChildren,e);return e}},watch:{items:{handler:function(){var e=this,t=Object.keys(this.nodes).map((function(t){return Object(he["q"])(e.nodes[t].item,e.itemKey)})),i=this.getKeys(this.items),n=Object(he["c"])(i,t);if(n.length||!(i.length<t.length)){n.forEach((function(t){return delete e.nodes[t]}));var a=Object(s["a"])(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(he["k"])(a,Object(s["a"])(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(e){this.handleNodeCacheWatcher(e,this.activeCache,this.updateActive,this.emitActive)},value:function(e){this.handleNodeCacheWatcher(e,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(e){this.handleNodeCacheWatcher(e,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var e=this,t=function(t){return e.returnObject?Object(he["q"])(t,e.itemKey):t};this.buildTree(this.items);var i,n=Object(oe["a"])(this.value.map(t));try{for(n.s();!(i=n.n()).done;){var a=i.value;this.updateSelected(a,!0,!0)}}catch(c){n.e(c)}finally{n.f()}var r,s=Object(oe["a"])(this.active.map(t));try{for(s.s();!(r=s.n()).done;){var o=r.value;this.updateActive(o,!0)}}catch(c){s.e(c)}finally{s.f()}},mounted:function(){var e=this;(this.$slots.prepend||this.$slots.append)&&Object(be["c"])("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(t){return e.updateOpen(e.returnObject?Object(he["q"])(t,e.itemKey):t,!0)})),this.emitOpen())},methods:{updateAll:function(e){var t=this;Object.keys(this.nodes).forEach((function(i){return t.updateOpen(Object(he["q"])(t.nodes[i].item,t.itemKey),e)})),this.emitOpen()},getKeys:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0;i<e.length;i++){var n=Object(he["q"])(e[i],this.itemKey);t.push(n);var a=Object(he["q"])(e[i],this.itemChildren);a&&t.push.apply(t,Object(s["a"])(this.getKeys(a)))}return t},buildTree:function(e){for(var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var a,r=e[n],s=Object(he["q"])(r,this.itemKey),o=null!=(a=Object(he["q"])(r,this.itemChildren))?a:[],c=this.nodes.hasOwnProperty(s)?this.nodes[s]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},l={vnode:c.vnode,parent:i,children:o.map((function(e){return Object(he["q"])(e,t.itemKey)})),item:r};if(this.buildTree(o,s),!this.nodes.hasOwnProperty(s)&&null!==i&&this.nodes.hasOwnProperty(i)?l.isSelected=this.nodes[i].isSelected:(l.isSelected=c.isSelected,l.isIndeterminate=c.isIndeterminate),l.isActive=c.isActive,l.isOpen=c.isOpen,this.nodes[s]=l,o.length){var d=this.calculateState(s,this.nodes),u=d.isSelected,h=d.isIndeterminate;l.isSelected=u,l.isIndeterminate=h}!this.nodes[s].isSelected||"independent"!==this.selectionType&&0!==l.children.length||this.selectedCache.add(s),this.nodes[s].isActive&&this.activeCache.add(s),this.nodes[s].isOpen&&this.openCache.add(s),this.updateVnodeState(s)}},calculateState:function(e,t){var i=t[e].children,n=i.reduce((function(e,i){return e[0]+=+Boolean(t[i].isSelected),e[1]+=+Boolean(t[i].isIndeterminate),e}),[0,0]),a=!!i.length&&n[0]===i.length,r=!a&&(n[0]>0||n[1]>0);return{isSelected:a,isIndeterminate:r}},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(e,t){var i=this;this.$emit(e,this.returnObject?Object(s["a"])(t).map((function(e){return i.nodes[e].item})):Object(s["a"])(t))},handleNodeCacheWatcher:function(e,t,i,n){var a=this;e=this.returnObject?e.map((function(e){return Object(he["q"])(e,a.itemKey)})):e;var r=Object(s["a"])(t);Object(he["k"])(r,e)||(r.forEach((function(e){return i(e,!1)})),e.forEach((function(e){return i(e,!0)})),n())},getDescendants:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.nodes[e].children;(t=i).push.apply(t,Object(s["a"])(n));for(var a=0;a<n.length;a++)i=this.getDescendants(n[a],i);return i},getParents:function(e){var t=this.nodes[e].parent,i=[];while(null!==t)i.push(t),t=this.nodes[t].parent;return i},register:function(e){var t=Object(he["q"])(e.item,this.itemKey);this.nodes[t].vnode=e,this.updateVnodeState(t)},unregister:function(e){var t=Object(he["q"])(e.item,this.itemKey);this.nodes[t]&&(this.nodes[t].vnode=null)},isParent:function(e){return this.nodes[e].children&&this.nodes[e].children.length},updateActive:function(e,t){var i=this;if(this.nodes.hasOwnProperty(e)){this.multipleActive||this.activeCache.forEach((function(e){i.nodes[e].isActive=!1,i.updateVnodeState(e),i.activeCache.delete(e)}));var n=this.nodes[e];n&&(t?this.activeCache.add(e):this.activeCache.delete(e),n.isActive=t,this.updateVnodeState(e))}},updateSelected:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.nodes.hasOwnProperty(e)){var n=new Map;if("independent"!==this.selectionType){var a,r=Object(oe["a"])(this.getDescendants(e));try{for(r.s();!(a=r.n()).done;){var s=a.value;Object(he["q"])(this.nodes[s].item,this.itemDisabled)&&!i||(this.nodes[s].isSelected=t,this.nodes[s].isIndeterminate=!1,n.set(s,t))}}catch(g){r.e(g)}finally{r.f()}var o=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=o.isIndeterminate,n.set(e,t);var c,l=Object(oe["a"])(this.getParents(e));try{for(l.s();!(c=l.n()).done;){var d=c.value,u=this.calculateState(d,this.nodes);this.nodes[d].isSelected=u.isSelected,this.nodes[d].isIndeterminate=u.isIndeterminate,n.set(d,u.isSelected)}}catch(g){l.e(g)}finally{l.f()}}else this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=!1,n.set(e,t);var h,v=Object(oe["a"])(n.entries());try{for(v.s();!(h=v.n()).done;){var p=Object(se["a"])(h.value,2),f=p[0],m=p[1];this.updateVnodeState(f),"leaf"===this.selectionType&&this.isParent(f)||(!0===m?this.selectedCache.add(f):this.selectedCache.delete(f))}}catch(g){v.e(g)}finally{v.f()}}},updateOpen:function(e,t){var i=this;if(this.nodes.hasOwnProperty(e)){var n=this.nodes[e],a=Object(he["q"])(n.item,this.itemChildren);a&&!a.length&&n.vnode&&!n.vnode.hasLoaded?n.vnode.checkChildren().then((function(){return i.updateOpen(e,t)})):a&&a.length&&(n.isOpen=t,n.isOpen?this.openCache.add(e):this.openCache.delete(e),this.updateVnodeState(e))}},updateVnodeState:function(e){var t=this.nodes[e];t&&t.vnode&&(t.vnode.isSelected=t.isSelected,t.vnode.isIndeterminate=t.isIndeterminate,t.vnode.isActive=t.isActive,t.vnode.isOpen=t.isOpen)},isExcluded:function(e){return!!this.search&&this.excludedItems.has(e)}},render:function(e){var t=this,i=this.items.length?this.items.filter((function(e){return!t.isExcluded(Object(he["q"])(e,t.itemKey))})).map((function(e){var i=me.options.methods.genChild.bind(t);return i(e,Object(he["q"])(e,t.itemDisabled))})):this.$slots.default;return e("div",{staticClass:"v-treeview",class:Object(R["a"])({"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense},this.themeClasses)},i)}}),Ce=Object(v["a"])(G,n,a,!1,null,null,null);t["default"]=Ce.exports;f()(Ce,{VAlert:A["a"],VBtn:m["a"],VCard:g["a"],VCardText:b["c"],VCardTitle:b["d"],VCheckbox:W["a"],VChip:Q["a"],VCol:_["a"],VContainer:U["a"],VDivider:X["a"],VList:Y["a"],VListItem:Z["a"],VListItemAction:ee["a"],VListItemContent:te["a"],VListItemGroup:ie["a"],VListItemSubtitle:te["b"],VListItemTitle:te["c"],VOverlay:ne["a"],VProgressCircular:ae["a"],VSpacer:x["a"],VTextField:D["a"],VToolbar:re["a"],VTreeview:xe})},6062:function(e,t,i){"use strict";var n=i("6d61"),a=i("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},"6ca7":function(e,t,i){},ac7c:function(e,t,i){"use strict";var n=i("15fd"),a=i("5530"),r=(i("d3b7"),i("25f0"),i("6ca7"),i("ec29"),i("9d26")),s=i("c37a"),o=i("fe09"),c=["title"];t["a"]=o["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var e=this.attrs$,t=(e.title,Object(n["a"])(e,c));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},t),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},cc5e:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"f",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return l}));var n=i("a27e"),a=function(){return n["a"].get("/role-management/roles")},r=function(e){return n["a"].get("/role-management/".concat(e,"/authorized-menus"))},s=function(e,t){return n["a"].put("/role-management/role/".concat(e,"/authorized-menus"),{menuIds:t})},o=function(e){return n["a"].post("/role-management/role",e)},c=function(e,t){return n["a"].put("/role-management/role/".concat(e),t)},l=function(e){return n["a"].delete("/role-management/roles",{params:{ids:e}})}},fa9e:function(e,t,i){}}]);
//# sourceMappingURL=chunk-24627168.f4bcfe9c.js.map